[{"title":"什么是RPC","url":"/2019/09/19/什么是RPC/","content":"\n# 什么是RPC\n\n在分布式系统中，Remote Procedure Call可以理解为一台计算机的程序调用不同地址空间（通常是在相同网络环境下的其他计算机上）的另一台计算机的程序，在编码的过程中，就像在本地调用一样，不需要程序员明确的编码远程交互的细节。\n\nRemote Procedure Call（RPC）是一种协议，一个程序可以使用该协议从位于网络上的另一台计算机中的程序请求服务，无需了解网络的详细信息。\n\n过程调用一般也称为函数调用或者子例程调用。\n\nRPC的执行属于Client-Server模型，调用的一方作为Client，提供服务的一方作为Server。和常规的本地函数调用一样，调用发起后，调用方（client）会处于阻塞的状态，直到被调用的Server方返回计算的结果。在多线程的环境下，可以同时发起多个RPC调用。远程调用相对于本地调用来讲，速度会慢几个数量级。\n\nRPC其实属于进程间通信（IPC，inter-process communication）的一种形式，不同的进程有不同的地址空间，比如程序处于不同的机器，或者程序位于同一机器对外暴露不同的端口。\n\n# 消息传递\n\nRPC采用了请求-响应机制，由客户端向已知的远程服务器发送请求，并附带参数，使得远程的服务器执行既定的过程，然后远程的服务端在计算完毕后，响应客户端的请求，返回计算结果给客户端。当服务端在执行计算的时候，客户端处于阻塞状态的，它在等待服务端的计算结果，除非客户端发送了异步的请求给服务器，比如采用了`XMLHttpRequest`。\n\n对于远程过程调用来讲，一个最重要的不同就是因为不可预测的网络问题导致调用失败。导致调用失败的因素有很多，可能是因为网络问题，或者是服务提供者服务挂掉等。\n\n## 调用过程\n\n1. 客户端调用客户端存根，这次调用为本地调用，同时传入参数\n2. 客户端存根将参数打包到消息中，进行系统调用发送消息。打包参数称为编组\n3. 客户端的本地计算机操作系统将消息发送到服务端的计算机。\n4. 服务器在接收到消息后，将数据包传入服务器存根\n5. 服务器存根解压缩消息中的参数，解包称为解组。\n6. 服务器存根调用服务器上的过程，将计算结果返回给客户端。\n\n# 参考文献\n\n[Remote Procedure Call (RPC)](https://searchapparchitecture.techtarget.com/definition/Remote-Procedure-Call-RPC)\n\n[维基百科](https://en.wikipedia.org/wiki/Remote_procedure_call)\n\n","tags":["RPC"],"categories":["技术"]},{"title":"美团面试有感","url":"/2019/09/18/美团面试有感/","content":"\n9月11日我在上海美团点评总部完成了技术面试，现场面试第一轮的面试官在和我聊完技术后，我们俩聊了聊他对应届毕业生的要求，基础要扎实，包括编程语言、常用的数据结构和算法、数据库的机制等。聊的过程中，面试官也举了几个例子，有抱怨到身边工作的有些同事不注重索引条件的使用，导致写出了很多慢SQL。看得出面试官是对技术很有追求的人，结束面试的时候给了我很多建议。\n\n最近我也在想这几个问题：\n\n+ 什么样的程序员算是一个水平较高的程序员？\n+ 大多数人转编程是为了什么？\n\n从我个人的角度来讲，我觉得高水平的程序员是有追求的程序员，比如追求一个需求让它更稳定或者说一个响应让它更快，就是说不是只从实现功能的角度去开发一个功能，实现功能后就不管了。在开发这个需求的时候，除了实现功能，还应该从其他的角度去考量，比如说代码的健壮性、可维护性等。\n\n我周边的大多数同学转行都是为了程序员的高薪，这很正常，我也有这样的想法，这没有什么对错。我觉得应届生在追求程序员的高薪的同时更应该着重在技术的层面提高自己，计算机行业算是一个变化非常快的行业，各种新东西层出不穷，不学习新的东西迟早会被淘汰，在技术层面的提高可以维护自己的核心竞争力，如果只是为了最初的薪水高这一点而盲目的放弃自己本专业，转向一个新的领域其实是得不偿失的。\n\n","categories":["杂谈"]}]